/* Application Cache * @ProtoMorph ( http://protomorph.cf/ ) * Based on: http://www.html5rocks.com/en/tutorials/appcache/beginner/ */
var appCache=window.applicationCache;var appCacheStatus='NOTSUPPORTED';if(appCache){switch(appCache.status){case appCache.UNCACHED:appCacheStatus='UNCACHED';break;case appCache.IDLE:appCacheStatus='IDLE';break;case appCache.CHECKING:appCacheStatus='CHECKING';break;case appCache.DOWNLOADING:appCacheStatus='DOWNLOADING';break;case appCache.UPDATEREADY:appCacheStatus='UPDATEREADY';break;case appCache.OBSOLETE:appCacheStatus='OBSOLETE';break;default:appCacheStatus='UKNOWN CACHE STATUS ("'+appCache.status.toString()+'")';break;}}if(appCacheStatus!=='NOTSUPPORTED'){if(appCacheStatus==='UNCACHED'||appCacheStatus==='OBSOLETE'){appCache.update();}if(appCacheStatus==='UPDATEREADY'){appCache.swapCache();}window.addEventListener('load',function(e){window.applicationCache.addEventListener('updateready',eventReload,false);},false);function eventReload(){window.location.reload();}function logCacheEvent(e){console.log(e.type);}appCache.addEventListener('cached',logCacheEvent,false);appCache.addEventListener('checking',logCacheEvent,false);appCache.addEventListener('downloading',logCacheEvent,false);appCache.addEventListener('error',logCacheEvent,false);appCache.addEventListener('noupdate',logCacheEvent,false);appCache.addEventListener('obsolete',logCacheEvent,false);appCache.addEventListener('progress',logCacheEvent,false);appCache.addEventListener('updateready',logCacheEvent,false);}